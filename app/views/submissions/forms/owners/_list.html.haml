%h2 Owners
%table.table.table-striped
  %thead
    %th Name
    %th Email
    %th Phone
    %th Nationality
    %th Address
    %th
  %tbody
    - @submission.declarations.each do |declaration|
      - owner = declaration.owner
      %tr
        %td.owner-name
          - if @submission.address_can_be_changed?
            = link_to '#',
              "data-target" => "#declaration_#{declaration.id}",
              "data-toggle" => "modal" do
              = owner
          - else
            = owner
        %td.owner-email= owner.email
        %td.owner-phone_number= owner.phone_number
        %td.owner-nationality= owner.nationality
        %td.owner-address= owner.inline_address
        %td
          - if @submission.ownership_can_be_changed?
            = link_to submission_declaration_path(@submission, declaration),
              class: 'btn-link',
              method: :delete,
              remote: true,
              data: { confirm: "Are you sure you want to remove this owner?" },
              style: 'color: red;' do
              %i.fa.fa-trash
              Remove

    - @submission.removed_registry_owners.each do |owner|
      %tr
        %td.owner-name.strike= owner
        %td.strike= owner.email
        %td.strike= owner.phone_number
        %td.strike= owner.nationality
        %td.strike{ colspan: 2 }= owner.inline_address

- if @submission.ownership_can_be_changed?
  .row
    .col-md-12
      = link_to '#', class: 'btn btn-primary',
        "data-target" => "#new_declaration",
        "data-toggle" => "modal" do
        %i.fa.fa-plus
        Add Individual Owner
