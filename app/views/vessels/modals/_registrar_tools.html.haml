.modal.fade{id: 'take-action', role: "dialog", tabindex: "-1"}
  .modal-dialog.modal-md
    .modal-content
      .modal-header
        %button.close{"aria-label" => "Close", "data-dismiss" => "modal", :type => "button"}
          %span{"aria-hidden" => "true"} Ã—
        %h4.modal-title Take Action
      .modal-body
        %p= link_to "Print Certificate of Registry",
            vessel_registration_certificate_path(vessel, format: :pdf),
            target: "_blank",
            class: "btn btn-block btn-success #{'disabled' unless vessel.prints_registration_certificate?}"

        %p= link_to "Print Current Transcript",
            vessel_current_transcript_path(vessel, format: :pdf),
            target: "_blank",
            class: "btn btn-block btn-primary #{'disabled' unless vessel.prints_transcript?}"

        %p= link_to "Print Historic Transcript",
            vessel_historic_transcript_path(vessel, format: :pdf),
            target: "_blank",
            class: "btn btn-block btn-info #{'disabled' unless vessel.prints_transcript?}"
        %hr
        - if vessel.registration_status != :frozen
          %p= link_to "Freeze Record", "#",
              data: { target: "#freeze-record", toggle: "modal" },
              class: "btn btn-block btn-danger"
          = render partial: "vessels/modals/freeze_record", locals: {vessel: vessel}
          %hr
          - if vessel.registration_status != :closed
            %p= link_to Task.new(:registrar_closure).description, vessel_closure_path(vessel),
                method: :post, class: "btn btn-block btn-warning"

            %p= link_to Task.new(:section_notice).description, vessel_section_notice_path(vessel),
                method: :post, class: "btn btn-block btn-danger"
            %hr
          - else
            %p= link_to "Restore Closed Registration", vessel_closure_path(vessel),
                method: :post, class: "btn btn-block btn-warning"
          %p= link_to "Manual Override", vessel_manual_override_path(vessel),
              method: :post, class: "btn btn-block btn-success"

        - else
          - if vessel.section_notice_at.present?
            %p= link_to Task.new(:termination_notice).description, vessel_termination_path(vessel),
                method: :post, class: "btn btn-block btn-danger"
            %hr
          %p= link_to "Unfreeze Record", "#",
              data: { target: "#unfreeze-record", toggle: "modal" },
              class: "btn btn-block btn-warning"
          = render partial: "vessels/modals/unfreeze_record", locals: {vessel: vessel}

